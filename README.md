# Koinonia

> Koinonia is a transliterated form of the Greek word, `κοινωνία`, which means communion, joint participation; the share which one has in anything, participation, a gift jointly contributed, a collection, a contribution

## front-end

Clojure front-end application, which displays specified shared image and allows user to create a new sharable image URL.

![Koinonia front-end design](http://www.websequencediagrams.com/cgi-bin/cdraw?lz=dGl0bGUgS29pbm9uaWEgZnJvbnQtZW5kCgphbHQgQ3JlYXRlIGEgbmV3IHNoYXJhYmxlIGltYWdlIFVSTAogIENsaWVudC0-ADoIOiBIVFRQIFBPU1RcbihVUkwgKyBDU1Mgc2VsZWN0b3IpCiAAZQktPkFXUyBTUVM6IGZpcmUgJiBmb3JnZXQgbWVzc2FnZQAgCyBiYWNrLWVuZAApC3NlcGFyYXRlIHNlcnZpY2UgdG8gcHJvY2VzcyBxdWV1ZQA1Ey0-AIErBjogVVJMIHRvAIFQBWVcbihNRDUgaGFzaCBvZgAWBQCBJhBlbHNlIFZpAIIAB2VkAIFhHkdFVFxuKGsAgk8HLmNvbS8AgjAFL3tNRDUtaGFzaH0AgXsOUmVkaXM6IGxvb2t1cACBAwZrZXkKICBhbHQga2V5IGV4aXN0cwogICAgACcFAIJmDACDCwUAFgUAgVUSUGFnZSB3aXRoAIMvBygyMDAgU3RhdHVzIENvZGUpCiAgAIFXBWtleSBkb2Vzbid0AGcGAFYWRXJyb3IgKG5vAIERBWZvdW5kKQBsD0FXUyBEeW5hbW9EQgCBRg0AgTkFYWx0AIJjBgCBRwsgIAAoDACEQQxyZWNvcmQAHgcAhCkPMwCCYQx7UzMgb2JqZWN0IHdhcyBzdG9yZWQgdXNpbmcgAIJrCQBmB2FsdCAAJQoAew0AgQQGUzMAgk4RICgAWAkAgWoGAIJhDgCDOQcAcgUAgmIIAIJxBQCETwlhcyBrZXkAKBQAgn8sICAAgygHAIFlCgCDIxIAgTEWAIMwCgCCIQcAgzILAIQcICJJAIduBW5vdCByZWFkeSIAhxsIICgyMDQAgRAVbgCDMAYAhjMFbm8AiC0Hb2YgdGhpcwCGZAZwcmV2aW91c2x5IGdlbmVyYXRlAINiCACDdxhubwCECwcAhHQGAIQHEQCFZBJlAIUrBSJOAHoIAIUtBSIgKDQAgSMUAIEvBmVuZAoAiX0FIyBFeGFtcGxlOgojIGIyYThjMTE5NjQ3ODM4NjgyMDYwNGQ5YmRhYTYxNmJmIGlzAINjCm9mOgojIGh0dHA6Ly93d3cuaW50ZWdyYWxpc3QuY28udWsvIEFORCAubGFuZ3VhZ2UtcnVieTpudGgtb2YtdHlwZSgxKQ&s=rose)

## back-end

Ruby back-end that is decoupled from the front-end by a message queue (via AWS SQS). Utilises [BBC Wraith](https://github.com/BBC-News/wraith) (a responsive screenshot comparison tool) to capture the image and to store it within AWS S3.

![Koinonia back-end design](http://www.websequencediagrams.com/cgi-bin/cdraw?lz=dGl0bGUgS29pbm9uaWEgYmFjay1lbmQKCgACES0-QVdTIFNRUzogcG9sbCBmb3IgbWVzc2FnZXMKABQHLT4AORE6AB0IIGNvbnRlbnQAQhhEeW5hbW9EQjogc3RvcmUALgloYXNoXG4oc28gZnJvbnQtZW5kIGNhbiB2ZXJpZnkgaWYgaW1hZ2UgZG9lc24ndCBleGlzdFxub3IgaXMgYmVpbmcgcHJvY2Vzc2VkIHN0aWxsKQCBSRQAgSYTQkJDIFdyYWl0aFxuUnVieSBBcHBsaWNhdGlvbgCCBxkzAIE4CGdlbmVyYXRlZACBGgY&s=rose)

### TODO:

- Give TTL for S3 objects
  - S3 deletion event should trigger deletion of associated DynamoDB record
